/* ---------- General: ---------- */
:root {
	--text-1: #000000;
	--text-select: #2A221Bcc;
}
html,
body {
	width: 100%;
	height: 100%;
}
body {
	background-image: url("../assets/background_compressed.jpg");
	background-repeat: no-repeat;
	background-size: cover;
	background-position: 50% 50%;
	font-family: "Garamond", Verdana, "Lato", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
	color: var(--text-1);
}
::-webkit-scrollbar {
	width: 12px;
	height: 12px;
}
::-webkit-scrollbar-track {
	background-image: url("../assets/scrollbar_track.png");
	background-repeat: repeat-y;
	background-position: 50% 0%;
	background-size: 50%;
}
::-webkit-scrollbar-thumb {
	background-image: url("../assets/scrollbar_thumb.png");
	background-repeat: no-repeat;
	background-position: 0% 50%;
	background-size: 300% 100%;
	&:hover {
		background-position: 50% 50%;
	}
	&:active {
		background-position: 100% 50%;
	}
}

/* ---------- jQuery UI Customisation: ---------- */
.ui-widget {
	font-family: inherit;
	font-size: inherit;
	color: inherit;
}
.ui-selectmenu-menu > .ui-menu {
	background: url("../assets/background_compressed.jpg") 50% 50% no-repeat;
	border-radius: 240px 15px 100px/15px 200px 15px 185px;
	background-size: 200% 200%;
	border: 1px solid rgba(62, 34, 16, 0.1);
	transform: translateY(-1px);
	padding: 10px 5px;
	box-shadow: 10px 19px 17px -13px rgb(0 0 0 / 15%);
	filter: brightness(0.935);
	.ui-menu-item-wrapper {
		padding: 3px 1.5em 3px .9em;
	}
	.ui-state-active {
		background-color: transparent;
		background-image: url("../assets/mso_background.png");
		background-size: 100% 100%;
		border: none;
		margin: 0;
	}
}

/* ---------- Main Frame: ---------- */
#main-frame {
	--thumbnailbox-width: 200px;
	--toolbox-width: 400px;
	--toolbar-width: 80px;
	display: grid;
	grid-template-columns: var(--thumbnailbox-width) calc(calc(100% - var(--thumbnailbox-width)) - var(--toolbox-width)) var(--toolbox-width);
	&.no-tools {
		--toolbox-width: 6px;
	}
	&.no-tools #toolbar,
	&.no-tools #toolarea-box {
		display: none;
	}
	&.no-thumbnails {
		--thumbnailbox-width: 6px;
	}
	&.no-thumbnails  #thumbnail-innerbox {
		display: none;
	}
	>div {
		height: 100%;
		max-height: 100vh;
		overflow: auto;
	}
}

/* ---------- Thumbnails: ---------- */
#thumbnail-box {
	position: relative;
	grid-column: 1 / 1;
	padding: 12px 0;
	counter-reset: thumbnail-counter;
	&::before,
	&::after {
		content: "";
		position: absolute;
		z-index: 5;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-repeat: no-repeat;
		background-size: contain;
		pointer-events: none;
	}
	&::before {
		background-image: url("../assets/thumbnailbox_top.png");
		background-position: 50% 0px;
	}
	&::after {
		background-image: url("../assets/thumbnailbox_bottom.png");
		background-position: 50% 100%;
	}
}
#thumbnail-innerbox {
	--width: 90%;
	--vertical-margin: 18px;
	position: absolute;
	top: var(--vertical-margin);
	left: calc(calc(100% - var(--width)) / 2);
	width: var(--width);
	height: calc(100% - calc(2 * var(--vertical-margin)));
	padding: 12px 0;
	overflow-y: auto;
	background-image: url("../assets/thumbnailbox_background.png");
	background-repeat: no-repeat;
	background-size: 100% 100%;
	background-position: 50% 50%;
	&::-webkit-scrollbar {
		width: 0;
		height: 0;
	}
	&::-webkit-scrollbar-track {
		background-color: transparent;
	}
	&::-webkit-scrollbar-thumb {
		background-color: transparent;
	}
}
#thumbnail-box a {
	position: relative;
	display: block;
	--height: calc(0.7 * var(--thumbnailbox-width));
	--width: calc(0.70669017 * var(--height));
	width: var(--width);
	height: var(--height);
	background-color: #c0c0c077;
	background-image: url("../assets/thumbnail.jpg");
	background-repeat: no-repeat;
	background-position: 50% 50%;
	background-size: contain;
	margin: 0 auto;
	cursor: pointer;
	counter-increment: thumbnail-counter;
	&.thumbnail-rotated {
		width: var(--height);
		height: var(--width);
		background-image: url("../assets/thumbnail_rotated.jpg");
	}
	&:not(:last-child) {
		margin-bottom: 8px;
	}
	&::before,
	&::after {
		position: absolute;
		display: block;
		width: 100%;
		font-family: "Mason";
		font-weight: bold;
		font-size: 150%;
		text-align: center;
		color: #2A221B;
		opacity: 0.8;
		text-shadow: 0 0 12px #EFE9E0,
					0 0 10px #EFE9E0,
					0 0 8px #EFE9E0,
					0 0 6px #EFE9E0,
					0 0 4px #EFE9E0,
					0 0 2px #EFE9E0,
					0 0 1px #EFE9E0;
	}
	&::before {
		content: "Seite";
		bottom: calc(50% - 2px);
	}
	&::after {
		content: counter(thumbnail-counter);
		top: calc(50% - 8px);
		font-size: 200%;
	}
}
#document-box {
	position: relative;
	grid-column: 2 / 2;
	padding: 12px 0;
	>div {
		text-align: center;
		&:not(:last-child) {
			margin-bottom: 5px;
		}
		>section {
			display: inline-block;
		}
	}
}
/*.doc-page:not(.doc-page-rotated) {
	position: relative;
	left: 123.5px;
}*/
.doc-page div:not([class^="Edit-"]) {
	pointer-events: none;
}

/* ---------- Tools: ---------- */
#tool-box {
	position: relative;
	grid-column: 3 / 3;
	overflow: hidden !important;
}
#toolbar {
	--toolbar-item-height: 72px;
	--toolbar-item-count: 6;
	--circle-box: 60px;
	position: absolute;
	display: flex;
	flex-direction: column;
	justify-content: center;
	top: 0;
	right: 0;
	bottom: 0;
	width: var(--toolbar-width);
	transition: width 0.2s ease-out;
}
.toolbar-item {
	position: relative;
	display: flex;
	flex-direction: column;
	justify-content: center;
	width: 100%;
	height: var(--toolbar-item-height);
	text-align: center;
	font-size: 0;
	>* {
		pointer-events: none;
		opacity: 0.95;
	}
}
.toolbar-icon > svg {
	width: 40%;
}
.toolbar-icon path {
	stroke-width: 8px;
	stroke: #2A221B;
	fill: #2A221B;
}
.toolbar-extra {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%) scale(0.55) rotate(80deg);
	path {
		stroke-width: 20px;
	}
}
@for $i from 1 through 20 {
	.toolbar-item.toolbar-active:nth-child(#{$i}) ~ #toolbar-highlight { --counter: #{$i}; }
}
@for $i from 1 through 20 {
	.toolbar-item:nth-child(#{$i}):hover ~ #toolbar-highlight { --counter: #{$i}; }
}
#toolbar-highlight {
	position: absolute;
	z-index: 3;
	top: 50%;
	top: calc(calc(50% + calc(calc(var(--counter) - calc(var(--toolbar-item-count) / 2)) * var(--toolbar-item-height))) - calc(var(--toolbar-item-height) / 2));
	right: calc(calc(100% - calc(var(--toolbar-width) / 2)) - calc(var(--circle-box) / 2));
	width: calc(max-content + var(--circle-box));
	line-height: calc(var(--circle-box) - 2px);
	padding: 4px 0 6px 0;
	text-align: left;
	user-select: none;
	pointer-events: none;
	transform: translateY(-50%);
	transition: top 0.12s ease-out, width 0.2s ease-in-out;
}
#toolbar-highlight::before {
	content: "";
	position: absolute;
	top: -1px;
	bottom: 1px;
	left: 0;
	width: calc(calc(100% - var(--circle-box)) + 12px);
	background-image: url("../assets/tool_highlight.png");
	background-repeat: no-repeat;
	background-position: 50% 50%;
	background-size: 100% 100%;
}
#toolbar-highlight-text {
	position: relative;
	display: block;
	width: max-content;
	z-index: 2;
	color: #2A221B;
	font-family: "Garamond";
	font-size: 20px;
	font-weight: bold;
	padding-left: calc(var(--circle-box) / 2.5);
	padding-right: calc(var(--circle-box) + 20px);
}
#toolbar-highlight::before,
#toolbar-highlight-text {
	pointer-events: none;
	opacity: 0;
	transition: opacity 0.2s ease-out;
}
#toolbar:hover #toolbar-highlight::before,
#toolbar:hover #toolbar-highlight-text {
	opacity: 1;
}
#toolbar-highlight-circle {
	--extra-size: 10px;
	position: absolute;
	top: calc(0px - var(--extra-size));
	right: calc(0px - var(--extra-size));
	bottom: calc(0px - var(--extra-size));
	width: calc(var(--circle-box) + calc(2 * var(--extra-size)));
	background-image: url("../assets/tool_circle.png");
	background-repeat: no-repeat;
	background-position: 50% 50%;
	background-size: contain;
	pointer-events: none;
	transform: rotate(calc(var(--counter) * 20deg));
	transition: transform 0.2s ease-in-out;
}
#toolarea-box {
	position: absolute;
	width: calc(100% - var(--toolbar-width));
	height: 100%;
	padding: 8px 0;
}
.toolarea {
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	&:not([style*="opacity: 1;"]) {
		pointer-events: none;
	}
	>h3 {
		width: calc(100% + var(--toolbar-width));
		margin: 10px 0 10px 0;
		font-family: "Garamond";
		font-family: "Mason";
		font-size: 145%;
		text-align: center;
	}
	h4,
	p {
		padding-left: 12px;
	}
}
.toolarea-mso_wrapper {
	display: flex;
	flex-direction: column-reverse;
}
.toolarea-mso {
	width: 97%;
	margin: 0 auto;
	>h4::after {
		content: ":";
	}
}
.toolarea-no_mso {
	text-align: center;
	font-style: italic;
	font-weight: bold;
	font-size: 120%;
	padding: 30px 14px;
	background-color: transparent;
	background-image: url("../assets/mso_background.png");
	background-size: 100% 100%;
	&::before {
		content: "Es gibt keine Auswahlmög-\Alichkeiten für diese Seite";
		opacity: 0.5;
		white-space: pre;
	}
}

.select-dropdown,
.select-dropdown * {
	margin: 0;
	padding: 0;
	position: relative;
	box-sizing: border-box;
}
.select-dropdown {
	position: relative;
	background-color: transparent;
	background-image: url("../assets/mso_background.png");
	background-repeat: no-repeat;
	background-size: 100% 100%;
	select + .ui-selectmenu-button {
		font-size: 1rem;
		font-weight: normal;
		width: 100%;
		// padding: 8px 32px 8px 14px;
		padding: 8px 14px 8px 14px;
		border: none;
		background: none !important;
		-webkit-appearance: none;
		-moz-appearance: none;
		appearance: none;
		&:active,
		&:focus {
			outline: none;
			box-shadow: none;
		}
	}
}
#toolarea-pageSelection {
	select + .ui-selectmenu-button {
		font-size: 150%;
		font-weight: bold;
		color: var(--text-select);
	}
	.ui-selectmenu-icon {
		transform: translateY(5px) scale(1.15);
	}
	&:not(:hover) {
		background-image: unset;
		select + .ui-selectmenu-button > .ui-selectmenu-icon {
			opacity: 0;
		}
	}
}
.toolarea-page {
	position: absolute;
	top: 100px;
	right: 0;
	bottom: 0;
	left: 0;
	opacity: 0;
	&:not([style*="opacity: 1;"]) {
		pointer-events: none;
	}
}

/* ---------- Toggles: ---------- */
.toggle-left,
.toggle-right {
	--toggle-size: 40px;
	--toggle-width: var(--toggle-size);
	--toggle-height: calc(1.4 * var(--toggle-size));
	position: fixed;
	z-index: 10;
	width: var(--toggle-width);
	height: var(--toggle-height);
	border-radius: var(--toggle-size);
	cursor: pointer;
	background-image: url("../assets/Rauten-Pfeil_rechts_grau.png");
	background-repeat: no-repeat;
	background-size: contain;
	background-position: 50% 50%;
	opacity: 0;
	transition: opacity 0.4s ease-in-out 0.5s;
	&.toggle-shown,
	&t.toggle-shown {
		opacity: 1;
		pointer-events: all;
		transition: none;
	}
	&:hover,
	&:hover {
		opacity: 1;
		background-image: url("../assets/Rauten-Pfeil_rechts_rot.png");
		transition: opacity 0.2s ease-in-out;
	}
}
.toggle-left {
	transform: scaleX(-1);
}
#toggle-thumbnails,
#toggle-tools {
	top: calc(50% - calc(var(--toggle-height) / 2));
}
#toggle-thumbnails {
	left: calc(-2px + var(--thumbnailbox-width));
}
#toggle-thumbnails.toggle-left {
	left: calc(-12px + var(--thumbnailbox-width));
}
#toggle-tools {
	right: calc(10px + var(--toolbox-width));
}

/* ---------- Dark Mode: ---------- */
body.dark-mode {
	--text-1: #FFFFFF;
	--text-select: #ccbcaecc;
	color: #FFFFFF;
	#main-frame::before {
		content: "";
		position: absolute;
		display: block;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		backdrop-filter: brightness(0.3) contrast(1.5);
	}
	.toolbar-icon path {
		stroke-width: 8px;
		stroke: #f7d5b7;
		fill: #f7d5b7;
	}
	.ui-selectmenu-text {
		color: rgba(255, 255, 255, 0.9);
	}
	.ui-menu-item {
		color: rgba(0, 0, 0, 0.9);
	}
}
